{"version":3,"sources":["api/phonebook.js","components/Filter.jsx","components/Input.jsx","components/InputForm.jsx","components/Notifications.jsx","components/Persons.jsx","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","catch","error","console","addPerson","form","post","deletePerson","id","delete","status","updatePerson","put","Filter","handler","value","onChange","Input","children","InputForm","formHandler","onSubmit","type","Notifications","isError","message","boxStyle","className","Persons","list","deleteHandler","length","map","person","name","number","onClick","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterInput","setFilterInput","notificationMessage","setNotificationMessage","setIsError","fitlerResult","filter","toLowerCase","includes","toLocaleLowerCase","useEffect","phonebook","resetField","notifyUser","isErr","setTimeout","getPersons","event","target","preventDefault","currentId","newest","personFound","find","newPerson","window","confirm","concat","ReactDOM","render","document","getElementById"],"mappings":"8LACMA,EAAU,eA8BD,OAAEC,OA5BjB,WACC,OAAOC,IACLC,IAAIH,GACJI,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GACPC,QAAQD,MAAMA,OAuBQE,UApBzB,SAAmBC,GAClB,OAAOT,IACLU,KAAKZ,EAASW,GACdP,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BC,OAAM,SAACC,GACPC,QAAQD,MAAMA,OAemBK,aAZpC,SAAsBC,GACrB,OAAOZ,IACLa,OADK,UACKf,EADL,YACgBc,IACrBV,MAAK,SAACC,GAAD,OAAcA,EAASW,WASmBC,aANlD,SAAsBH,EAAIR,GACzB,OAAOJ,IACLgB,IADK,UACElB,EADF,YACac,GAAMR,GACxBF,MAAK,SAACC,GAAD,OAAcA,EAASW,Y,OCpBhBG,EARA,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAAQC,EAAW,EAAXA,MACxB,OACC,oDAEC,uBAAOC,SAAUF,EAASC,MAAOA,QCGrBE,EAPD,SAAC,GAAiC,IAAhCH,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAOG,EAAe,EAAfA,SAC/B,OACC,gCACEA,EADF,KACa,uBAAOF,SAAUF,EAASC,MAAOA,QCOjCI,EAVC,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,YAAaF,EAAY,EAAZA,SAC3B,OACI,uBAAMG,SAAUD,EAAhB,UACHF,EACD,8BACC,wBAAQI,KAAK,SAAb,uBCIUC,EATK,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAAQC,EAAW,EAAXA,QACpBC,EAAWF,EAAS,QAAS,UACnC,OAAe,OAAZC,EAA0B,KAEzB,qBAAKE,UAAS,UAAKD,EAAL,2BAAd,SACI,4BAAID,OCQDG,EAbC,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,cAExB,OAAoB,IAAhBD,EAAKE,OAAqB,4EAEvBF,EAAKG,KAAI,SAACC,GAAD,OAEf,8BACEA,EAAOC,KADT,IACgBD,EAAOE,OACtB,wBAAQC,QAASN,EAAef,MAAOkB,EAAOzB,GAA9C,sBAFOyB,EAAOC,UC6HFG,EA5HH,WACX,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAsCN,mBAAS,IAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KACA,EAAsDR,mBAAS,MAA/D,mBAAOS,EAAP,KAA4BC,EAA5B,KACA,EAA8BV,oBAAS,GAAvC,mBAAOd,EAAP,KAAgByB,EAAhB,KACMC,EAAgBL,EAEnBN,EAAQY,QAAO,SAAClB,GAAD,OACfA,EAAOC,KAAKkB,cAAcC,SAASR,EAAYS,wBAF/Cf,EAKHgB,qBAAU,WACTC,EAAU7D,SAASG,MAAK,SAACE,GAAD,OAAUwC,EAAWxC,QAC3C,IAYH,SAASyD,IACRf,EAAW,IACXE,EAAa,IAEd,SAASc,EAAWC,EAAOlC,GAC1BwB,EAAWU,GACXX,EAAuBvB,GACvBmC,YAAW,WACVZ,EAAuB,QACrB,KAEJ,SAASa,IACRL,EAAU7D,SAASG,MAAK,SAACE,GAAD,OAAUwC,EAAWxC,MAiE9C,OACC,gCACC,cAAC,EAAD,CAAewB,QAASA,EAASC,QAASsB,IAC1C,2CACA,cAAC,EAAD,CAAQjC,QArFgB,SAACgD,GAC1BhB,EAAegB,EAAMC,OAAOhD,QAoFSA,MAAO8B,IAC3C,+CACA,eAAC,EAAD,CAAWzB,YAnBM,SAAC0C,GACnBA,EAAME,iBACN,IATkB/B,EAtBGgC,EAAWC,EA+B1BC,EAbC5B,EAAQ6B,MACd,SAACnC,GAAD,OAAYA,EAAOC,KAAKkB,gBAAkBX,EAAQW,iBAa7CiB,EAAY,CACjBnC,KAAMO,EACNN,OAAQQ,GAGTwB,GArCqBF,EAsCLE,EAAY3D,GAtCI0D,EAsCAG,EArCbC,OAAOC,QAAP,sBACH9B,EADG,wEAIlBe,EACE7C,aAAasD,EAAWC,GACxBpE,MAAK,SAACY,GACS,MAAXA,GAAgBmD,IACpBJ,OAEAxD,OAAM,SAACC,GACPC,QAAQD,MAAMA,GACdwD,GAAW,EAAD,sDASKzB,EAiBLoC,EAhBbb,EAAUpD,UAAU6B,GAAQnC,MAAK,SAACE,GACjCwC,EAAWD,EAAQiC,OAAOxE,IAC1B0D,GAAW,EAAD,UAAWjB,EAAX,iCACVgB,SAsBA,UACC,cAAC,EAAD,CAAO3C,QA9Fc,SAACgD,GACxBpB,EAAWoB,EAAMC,OAAOhD,QA6FWA,MAAO0B,EAAxC,kBAGA,cAAC,EAAD,CAAO3B,QA9FgB,SAACgD,GAC1BlB,EAAakB,EAAMC,OAAOhD,QA6FWA,MAAO4B,EAA1C,sBAID,yCACA,cAAC,EAAD,CAASd,KAAMqB,EAAcpB,cA9EV,SAACgC,GACHQ,OAAOC,QACxB,0DAGAf,EACEjD,aAAauD,EAAMC,OAAOhD,OAC1BjB,MAAK,SAACY,GACS,MAAXA,IACFmD,IACDH,GAAW,EAAD,0DAEXzD,OAAM,SAACC,GACPC,QAAQD,MAAMA,GACdwD,EACC,EACA,mEC5DNe,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.1f828c16.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nfunction getAll() {\n\treturn axios\n\t\t.get(baseUrl)\n\t\t.then((response) => response.data)\n\t\t.catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n}\nfunction addPerson(form) {\n\treturn axios\n\t\t.post(baseUrl, form)\n\t\t.then((response) => response.data)\n\t\t.catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n}\nfunction deletePerson(id) {\n\treturn axios\n\t\t.delete(`${baseUrl}/${id}`)\n\t\t.then((response) => response.status)\n\t\t\n}\nfunction updatePerson(id, data) {\n\treturn axios\n\t\t.put(`${baseUrl}/${id}`, data)\n\t\t.then((response) => response.status)\n}\n// eslint-disable-next-line\nexport default { getAll, addPerson, deletePerson, updatePerson };\n","const Filter = ({handler,value}) => {\n\treturn (\n\t\t<div>\n\t\t\tFilter shown with\n\t\t\t<input onChange={handler} value={value} />\n\t\t</div>\n\t);\n};\nexport default Filter\n","const Input = ({handler, value, children }) => {\n\treturn (\n\t\t<div>\n\t\t\t{children}: <input onChange={handler} value={value}/>\n\t\t</div>\n\t);\n};\nexport default Input","const InputForm=({formHandler, children})=>{\n    return(\n        <form onSubmit={formHandler}>\n\t\t\t\t{children}\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n    )\n}\nexport default InputForm","const Notifications=({isError,message})=>{\n    const boxStyle = isError? \"error\": \"success\"\n    if(message === null) {return null}\n    return(\n        <div className={`${boxStyle} container notification`}>\n            <p>{message}</p>\n        </div>\n    )\n}\nexport default Notifications","const Persons = ({ list, deleteHandler }) => {\n\n\tif (list.length === 0) return <p>There are no person added to the phonebook.</p>;\n\n\treturn list.map((person) => (\n\t\t\n\t\t<p key={person.name}>\n\t\t\t{person.name} {person.number}\n\t\t <button onClick={deleteHandler} value={person.id}>Delete</button>\n\t\t</p>\n\t\t\n\t));\n};\nexport default Persons;\n","import React, { useEffect, useState } from \"react\";\nimport phonebook from \"./api/phonebook\";\nimport Filter from \"./components/Filter\";\nimport Input from \"./components/Input\";\nimport InputForm from \"./components/InputForm\";\nimport Notifications from \"./components/Notifications\";\nimport Persons from \"./components/Persons\";\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [filterInput, setFilterInput] = useState(\"\");\n\tconst [notificationMessage, setNotificationMessage] = useState(null);\n\tconst [isError, setIsError] = useState(false);\n\tconst fitlerResult = !filterInput\n\t\t? persons\n\t\t: persons.filter((person) =>\n\t\t\t\tperson.name.toLowerCase().includes(filterInput.toLocaleLowerCase())\n\t\t  );\n\n\tuseEffect(() => {\n\t\tphonebook.getAll().then((data) => setPersons(data));\n\t}, []);\n\n\tconst handleInputName = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\tconst handleInputNumber = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\tconst handleFilterInput = (event) => {\n\t\tsetFilterInput(event.target.value);\n\t};\n\n\tfunction resetField() {\n\t\tsetNewName(\"\");\n\t\tsetNewNumber(\"\");\n\t}\n\tfunction notifyUser(isErr, message) {\n\t\tsetIsError(isErr);\n\t\tsetNotificationMessage(message);\n\t\tsetTimeout(() => {\n\t\t\tsetNotificationMessage(null);\n\t\t}, 5000);\n\t}\n\tfunction getPersons() {\n\t\tphonebook.getAll().then((data) => setPersons(data));\n\t}\n\tconst deletePerson = (event) => {\n\t\tlet isConfirmed = window.confirm(\n\t\t\t\"Do you want to delete this person from the phonebook?\"\n\t\t);\n\t\tif (isConfirmed) {\n\t\t\tphonebook\n\t\t\t\t.deletePerson(event.target.value)\n\t\t\t\t.then((status) => {\n\t\t\t\t\tif (status === 204)\n\t\t\t\t\t\t{getPersons() \n\t\t\t\t\t\tnotifyUser(false, `The person's account has been deleted successfully`);}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tnotifyUser(\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t\"This person has already been deleted from the server.\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t};\n\tconst updatePerson = (currentId, newest) => {\n\t\tconst needUpdate = window.confirm(\n\t\t\t`The person, ${newName} is already added to phonebook, replace old number with a new one?`\n\t\t);\n\t\tif (needUpdate) {\n\t\t\tphonebook\n\t\t\t\t.updatePerson(currentId, newest)\n\t\t\t\t.then((status) => {\n\t\t\t\t\tif (status === 200) getPersons();\n\t\t\t\t\tresetField();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tnotifyUser(true, `The person was not updated. Please try again.`);\n\t\t\t\t});\n\t\t}\n\t};\n\tconst checkPerson = () => {\n\t\treturn persons.find(\n\t\t\t(person) => person.name.toLowerCase() === newName.toLowerCase()\n\t\t);\n\t};\n\tconst addPerson = (person) => {\n\t\tphonebook.addPerson(person).then((data) => {\n\t\t\tsetPersons(persons.concat(data));\n\t\t\tnotifyUser(false, `${newName} has been added to phonebook`);\n\t\t\tresetField();\n\t\t});\n\t};\n\tconst addNewName = (event) => {\n\t\tevent.preventDefault();\n\t\tconst personFound = checkPerson();\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\n\t\tpersonFound\n\t\t\t? updatePerson(personFound.id, newPerson)\n\t\t\t: addPerson(newPerson);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Notifications isError={isError} message={notificationMessage} />\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Filter handler={handleFilterInput} value={filterInput} />\n\t\t\t<h2>Add new Phone</h2>\n\t\t\t<InputForm formHandler={addNewName}>\n\t\t\t\t<Input handler={handleInputName} value={newName}>\n\t\t\t\t\tName\n\t\t\t\t</Input>\n\t\t\t\t<Input handler={handleInputNumber} value={newNumber}>\n\t\t\t\t\tPhone\n\t\t\t\t</Input>\n\t\t\t</InputForm>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons list={fitlerResult} deleteHandler={deletePerson} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport './styles/index.css'\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}